<ion-content class="racha-content">
  <!-- Header estilo dashboard -->
  <div class="dashboard-header">
    <ion-icon name="chevron-back" class="back-icon" (click)="goBack()"></ion-icon>
    <h1 class="header-title">La Racha</h1>
  </div>

  <div *ngIf="isLoading" class="loading-container">
    <ion-spinner name="circular"></ion-spinner>
  </div>

  <div *ngIf="!isLoading" class="content-area">

    <!-- Tarjeta principal de racha -->
    <div class="streak-main-card">
      <div class="streak-mascot">
        <img src="assets/image/menu/hoja.png" alt="Racha">
      </div>
      
      <div class="streak-number">{{ currentStreak }}</div>
      <div class="streak-label">días de racha</div>
      
      <div class="streak-message">
        <span *ngIf="currentStreak === 0">¡Comienza tu racha hoy!</span>
        <span *ngIf="currentStreak > 0 && currentStreak < 5">¡Vas muy bien!</span>
        <span *ngIf="currentStreak >= 5 && currentStreak < 10">¡Increíble constancia!</span>
        <span *ngIf="currentStreak >= 10">¡Eres imparable!</span>
      </div>
    </div>

    <!-- CALENDARIO MENSUAL -->
    <div class="calendar-card">
      <h3 class="calendar-title">{{ currentMonthName }}</h3>
      
      <div class="calendar-weekdays">
        <div class="weekday">D</div>
        <div class="weekday">L</div>
        <div class="weekday">M</div>
        <div class="weekday">M</div>
        <div class="weekday">J</div>
        <div class="weekday">V</div>
        <div class="weekday">S</div>
      </div>

      <div class="calendar-grid">
        <div 
          *ngFor="let calDay of calendarDays"
          class="calendar-day"
          [class.studied]="calDay.hasStudied"
          [class.today]="calDay.isToday"
          [class.empty]="!calDay.isCurrentMonth">
          <span *ngIf="calDay.isCurrentMonth">{{ calDay.day }}</span>
        </div>
      </div>
      
      <div class="calendar-legend">
        <div class="legend-item">
          <div class="legend-box studied"></div>
          <span>Día estudiado</span>
        </div>
        <div class="legend-item">
          <div class="legend-box today"></div>
          <span>Hoy</span>
        </div>
      </div>
    </div>

    <!-- Resto del contenido... -->
  </div>

  <app-bottom-nav></app-bottom-nav>
</ion-content>